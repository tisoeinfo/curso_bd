--- EJERCICIO EN CLASE
--------------------------------------------------------------
-- 1. CREAR 2 ESQUEMAS "C##CLIENTES, C##VENTAS" (CONECTARSE CON EL USUARIO SYSTEM)
--------------------------------------------------------------
CREATE USER C##CLIENTES IDENTIFIED BY "123";
CREATE USER C##VENTAS IDENTIFIED BY "123";

-- DAR PERMISO DE SESION A LOS ESQUEMAS (CONECTARSE CON EL USUARIO SYSTEM)
GRANT CREATE SESSION TO C##CLIENTES;
GRANT CREATE SESSION TO C##VENTAS;

-- DAR PERMISOS A LOS USUARIOS PARA CREAR TABLAS (CONECTARSE CON EL USUARIO SYSTEM)
GRANT CREATE TABLE TO C##CLIENTES;
GRANT CREATE TABLE TO C##VENTAS;

-- DAR ESPACIO DE TABLESPACE EN LOS NUEVOS ESQUEMAS (CONECTARSE CON EL USUARIO SYSTEM)
ALTER USER C##CLIENTES QUOTA UNLIMITED ON USERS;
ALTER USER C##VENTAS QUOTA UNLIMITED ON USERS;

--------------------------------------------------------------
-- 2. CREAR SUS ENTIDADES  (CONECTARSE CON EL USUARIO C##CLIENTES)
--------------------------------------------------------------

CREATE TABLE CLIENTES (
ID_CLIENTE NUMBER PRIMARY KEY,
NOMBRE VARCHAR(50),
CIUDAD VARCHAR(100)
);

INSERT INTO CLIENTES (ID_CLIENTE, NOMBRE, CIUDAD) VALUES (1,'JUAN PEREZ','LIMA');
INSERT INTO CLIENTES (ID_CLIENTE, NOMBRE, CIUDAD) VALUES (2,'PEDRO SUAREZ','LIMA');
COMMIT;

SELECT * FROM CLIENTES;

--------------------------------------------------------------
-- 3. CREAR SUS ENTIDADES  (CONECTARSE CON EL USUARIO C##VENTAS)
--------------------------------------------------------------

CREATE TABLE VENTAS (
ID_VENTA NUMBER PRIMARY KEY,
ID_CLIENTE NUMBER,
MONTO NUMBER
);

INSERT INTO VENTAS (ID_VENTA, ID_CLIENTE, MONTO) VALUES (1,1,150.00);
INSERT INTO VENTAS (ID_VENTA, ID_CLIENTE, MONTO) VALUES (2,1,180.00);
INSERT INTO VENTAS (ID_VENTA, ID_CLIENTE, MONTO) VALUES (3,2,140.75);
INSERT INTO VENTAS (ID_VENTA, ID_CLIENTE, MONTO) VALUES (4,2,78.89);

--------------------------------------------------------------
-- 4. DAR PERMISOS PARA ACCEDER A LA TABLA CLIENTES DESDE EL ESQUEMA C##VENTAS (CONECTARSE CON EL USUARIO SYSTEM)
--------------------------------------------------------------
GRANT SELECT ON C##CLIENTES.CLIENTES TO C##VENTAS;
-- QUEDA PENDIENTE EL DE ACTUALIZAR, ELIMINAR, ETC. (PRACTICAR)

-- REALIZAR UNA CONSULTA PARA TRAER LOS DATOS DE LA TABLA CLIENTES (DESDE EL ESQUEMA C##VENTAS)
SELECT * FROM C##CLIENTES.CLIENTES;
-- QUEDA PENDIENTE APLICAR CONSULTAS M√ÅS COMPLEJAS (PRACTICAR)